language: nix
sudo: required
services:
- docker
branches:
  only:
  - master
  - test
  - prod
cache:
  timeout: 86400
  directories:
  - "${HOME}/.m2"
script: "./travis/build.sh"
env:
  global:
  - AWS_DEFAULT_REGION: ap-southeast-2
  # TRAVIS_GITHUB_USERNAME
  - secure: terB9juMowoxt6/75ofKKB5iEQxuNovMB/UuQuWQ2l2dPZNeosb59OBpcpEW8G7vG9yMITr9TvnB0aGZLcpU+QiK3+Djt+X2tOL41Az1FJgCnF4GzMse8sLdvfMXg19ZdADORNmVDsQFJ+6n61kNw0qgjI9B9FetkkKLN6FlGx3liS/uUQ/083MLh3wRtgpbviG9kvoaS5ckG2sKX5oT6aGZjfvPLMbPQ6VN3BtP0AKvCGMAGcKa+3+1C19SxvZgQtfsJTEMiVUPpJV2GNELC8eHGdb71jKMQW7alCb8/rMPQsK6ogzyL5guwDvO68vUpWwA7xS3eSLTIOzbGkNH18t0yDTebEkI7eQW4HDn80QDqy6Bt8lZZz092uvO4bgN45e1oYoofkUiHnGkmOfTaD3Nw/fRwYY5IjC3Y9o6pwziFUaWFIbFZFaOXXDfynsacGjGJUMJvbDBBhqV2p3EFsEfZiC0GaUo+warPV6zM/+Nb1MvshXXJzLxbkpppzhJFBQUeEjRmrCEsHUkN64W1vLWnjLwvPYxCxQ5P1QpJQ5AS9o3qjfbLik9onAIaUlYK6MeFhCcgEh1ehxnLdC6ia3oCp+zbfE/5mmfa+DiY03YQxQxdHq1s+egxiZaw7/MwlWEGFfV+REsETa3XWkiB8tUImbFVMMbN+I/PuWskqs=
  # TRAVIS_GITHUB_PASSWORD
  - secure: M59EkZZjww1hvvITXmYEGXa25ktIyqfasjfreUgY02DE1pzLjMrUbtDZyDauhnntw8/TYJZdagjR7y77tWf1iZciQfyI6EIaZj0X8isR3YdYA+VGQAsTdaapbJA2h5AxeaBfFr0XZ1Ufh1x6vf51AIpqyiLBPuzwdBFSIHewKwp22KxV6drQRrFDWHhs4FcQ7wUndr2m36jKqjFUmWB75tHbsZ6vd+eks6rkreNohxp5dKhgmnEmfphj2Kwlo1c9beDb4XWH1mJ5RLfpmE8D/CXYUU18l+bVngxnk1cSHB6iEwCba76QZMChu7/cc+TwpvaIY6rE8zcOxSW2XFW78rCm6Ipa5ZpvFLw8mNahbTyndkE8mEWqEFac2w2qeMqcoASV2JLwCCrpLCuLdtouBrlWFBeJu5k0IJ4w2SgCnfWfecLNuMS5I8KTzDvp4DA0a+D0bXPx188cff5J5devo4tNXB0u5DIF7rhCcDuOA27eBEzokEjG7ka0tUna2zFoRFufpkxOVWfwV7YrdfnKYhhastfJmSsWk9z9ZtB6goHvtCLdFgKN5LQfDWNpz3ZxRHrBnsixn3QsVZpEP2yim7JpFdbzqk6EEs0/8DcN3AeGsNl8oYarCNUmC09pvi11nMa/Wr4ztYm3/xaTXtdsthRX9R+YiQa7sxAVGQqFMQg=
  # TRAVIS_AWS_ACCESS_KEY_ID (egeodesy-dev)
  - secure: PP/i3rqqZTRssBjkNo6ZyRXUhb6gMVGFbF5+8bqMfr8yKnVJ7p5UUxuRgsKc9Xrb7j0qsZYnalfDnDLzoqTQHtngumTEl8jNVLApDqaW2nypflj9YGEw8UiHh9Db4VaIPIfmk1hJGFqPLJJD+Lf/qh+9vZliDH31DjTXvXajIiJRsH0J0CgRhJCXhM1sNa9SWVVRA0AsWj4NdXPZtMCDvgQ7VaKugTHJg9QI5Lc2gpMfU+v8kGNu9MhoeETrQlfENiKXyV1C0caY9joAx/m7ZgiUBuym4o7pPBplkt+gOYGoN2O5dMREiR7v/eYkAX4facbgHjmqBMshNdzzyCTD4OqoUl7pTLBRPESPxZMRQVEBraXWqxzFfxPvrBRpk7y2120pdXeToX0QeIXJWbav6jBecC6wuE5Ues9MkoPdiRsEtwm5c461k35eMjFQsOVDqwHfxV5DY4ARdjHTqywqaIUskat8Qg0aNG218St3V8OyPvidSRNBge68xJ9PWAMk1hWYcdFR9B95yEB8yEBRHQH9As+bJ4npp/qF4ouuXfNR+0DQLsNbbGlvjqypvpvp69jkUh0NfBhvT+7VKDVpF86zOls8rkjboAPqmIOGnSWXZmW8lk/WHFYy/wpobknl1v0gHBIR7Waa3pjtll6HqX4KhO+yHauFT7hVF5syfNg=
  # TRAVIS_AWS_SECRET_KEY_ID
  - secure: Sf4TajFoU4mQXTDS3g3QOnSPzU+Gj7LAk4z3giMKkapO1dUSxuxa97F3PCtOeihLuN4Xb92tuXG7M8woo8kqSIs1BC8umLsl8BHCrL1mdc2dMHEnaJ3DEZVWuA7aTD+jugeiswPeUmjr132r2uCe2iePEFH8ZC+AArWxA7/U7rpgvOqjT+O+deydptGPC5fijCGwMjCi+a1opNN7xJgspGKPzKnshknKhxSqx7Sy83w26bhyiSVwP3d5cmwu2QHOI9/LlePsuVw5VIExnB8mI8vEM1uxV11iQZqHEOYGa0TD3Ie97nuWwaSTk0crHc+JAeJx5o6ZoOQy4SOhQ3YjiKk4ofTr+MXj8h0qTfobIXGAYIJBrhpZ3UZO/HUW5fNF/cpAlt4h5GxesdprKUXgcnEwfVZzeaDqi4h1U0XnfsncxKi2V330r1KcfNV6b0BzuWNGqCuPjo91bXK06xHqTI7KV2Ne6tebFGYSsiFz08axaaqiYWjUmgb6lGBQAStoOcq5lDO6x2n4ghfxNER0xyC+F8LOrToolERMHujaDqI1wMBsiPpLl4UIydiRXB+DzJC68YWtWMcmpkrtwU7KFyk2Y62JWVGFLYrRIrB+FnTddAcmMJVwzn1SoiuKfTPJF1Lm5yYIlWfzTy+vKHMgCVZBR6a0KDeFDVIiWaNA0n0=
  # AWS_ACCESS_KEY_ID (geodesy-operations)
  - secure: X/MKo1CRLqqZIXyOEU8HWp2BmPqDvIlQfQb4xMSQjUj68T7SP4gkH3AH4TfpmJ0aqLBaxg1BkDojPFvQ+WR1GrA0D9pMriEgCZcXupKVO0ImiCAntwMUNlzL2LaXwunLbye/6WyPAp6exd86E/ck7IsnCqb9uwjkotsGL+haMdCgB2dWo9Fy/iEG58J4hENtyGgwujMdLYHkQhulPRslLdZr4bHkN1ixLimoG4rG8UiqUdLfUHa5jZRr8FWpRacOqj3MnlPrbAP7Giiw9QhF3hUJSIH8dcktTtQfHnXjmwW71TQQWhErWRVt4r5uV9o0XGi8SjnGJFTTdYP6avB7xUtAoioy6OE4oK4jym4Ht/Q7ocySyrYq1kNrSRXaUOPznfgC7DOf0YxzrTwVMusUQB99p09xkozIP/xMY5gGNQb4eBFsHoVkRLjK+ZvKG4n+xtaEwe7idIzCUkWUAmG6pxqnaY6+mXa9AmZGfMtsNudGt0twk3rpXtH9frMmKyzvAi0K3CcD/43JztaS+6uq7kj59jHcr8EtLyebS8ur1EcawKxaaw+PMlYuKnhiYpXcGBCEwg1C9DJZDUHWo2Az6J3ZC4mlNtMpmxWaXtFniLcS7w1ycJM89VMy03ym8+4GkbB7S8E+mSDKsT4itwtvYuevKknbLlEnbsYmGJJtOUU=
  # AWS_SECRET_ACCESS_KEY
  - secure: SZeT2VEsLMfFLEIpGz2Z8I7RnIB49dWNzWvicAEaWJ0v6IecgGsbKMagLcs4z/u1dUKtuOFXoZZ0wSXQK1skQx0fAZOULtLrQK5Pyd88YvH51rM71pjViie3j3QrwJVd3uQkdQxHeoysDDyjTqrYrKuhHQOMPu4LEJG3bEeXjDQLh7IK8hT4HxkFMnZ7TjbuDXa5Vc+gu+Rh5ZysS+zhr2dpkl3F+Ji8hSSNSCTL1vmE/1UlCebfXLEuz0h5fFpv+5QhCiRAkSQKr+iF0GgEyba3x9iMrg4s1oUEvuX8h0eknhVuZGP53GJzThVPB6ChN+bkvVy0g9uGY65CTsTpUmKgSUIzb67ZfnVuYMQW18d0V4g9H53kPpvBm6DrZ6P7b3Bogd0ApT2CfMqDCd3xsfBRvR6sv9w1Qdk5PFTy2+9uOlxnUH7MokUVlRJPAhIlF1ILEO0XF0ULYCg8pPmVUkKNhJ641x2SNt+FrBzj1RpDMUSJ7P+SVHB8I4NBhzkU3ek+qNfVMCtkQSVNhhHFnRXFlBvjcid4QFDQEA/ofdVG2GiOs2o8/UbbMDF0h9vo88j13yqQfKYOgyq1H5kik3z0BmwN51putL12imqsVw/+cIfS2xMc8L/L00VsEmy4K2HMLExEZUVD7MX2elMvs2F2RUckDu0KXalX+jVtcOY=
  - AWS_ACCESS_KEY_ID_GNSS_METADATA_NONPROD: AKIA2H4MYP4OFLXHC77W
  # AWS_SECRET_ACCESS_KEY_GNSS_METADATA_NONPROD, /gnss-metadata-nonprod/iam-user/travis-ci/access-key/AKIA2H4MYP4OFLXHC77W/secret-access-key
  - secure: hqq99cPI177d0mKVbRXpTLNUzo3a7MU9bUA86k2ZrgUbDJUWsdLdcTolaxwNI1iGRXAGzN0KvW46pAKktIrET1ePSQVvBNLNJPE1A0AV19DK5UjfQ8Zu1V3AHqCR4AW185oM8V8EB52bDJxMWprjjmpwKW2Z/5psssatR9ZeN8P3luL8caMOGwbRMMYM1qCJmngYjdsJKzIw0akp9+utaZ0JMZtw+KA/L4yoMfDMMunOtKjLbk1pvwqWC5rsUdEmzwwuC9Y8zI9ii3ufuKPyfcXOdtcBqkz1DNIZ8qHFamhV9c5yVmdvfEnG9Ou5JUAaH3Y6rUduTrLmqJiEGVYcqHgsHs3Pf5sQSMknBiwF+KETyCHPKkrpHDQHyu8KdZF1k0oIEIV8o02kRMy88+CQRs8kBF8AVK/sXYANN1eZYbaAevKlZpI4CVo7ZtDrXQ9+S5824R/y1rou/6NydXFK/ePL2w0R9pOBX65WJv8MYf5W6sMBhe1LIRq32DCPyV9R+BFHdVsHkCx4uiGik9nfto0Yr8tu3bMmUoQZU/JNi/wP/9H0yViEBLWWS8rjggrbrBLENY1Eg3/BpG7IMyYtCPQ27bZ4k7D1tVMczBuO/17LGThTN/7v6mU/YiPeh3S83ZNiPWgfxNY5+CYHLaYfP9q08K8dQzM3hyzqbXRi8Nc=
  - AWS_ACCESS_KEY_ID_GNSS_METADATA_PROD: AKIAXBN4SPHLJWNRTOFB
  # AWS_SECRET_ACCESS_KEY_GNSS_METADATA_PROD, /gnss-metadata-prod/iam-user/travis-ci/access-key/AKIAXBN4SPHLJWNRTOFB/secret-access-key
  - secure: INSQOpkrq4cwdJwrwXcP8HIMz/LwPhCk/df34Uc1VTDQ7KJAMMxEd+yihJUTelts5xKGvCKsMGiLTMx1Agw9Z9fF3K1b+A5xpGwoyctWSgpF67xDEEkZnyAa9Lt/HRZ+TDcrwtN7opVfeG52WU/bhHr652h7i+MRZ11VWmz7GkOhV6AlH0L/udhSOk8g2FGSapJ3VE45f+Uklk1pfBgtm0oF96Fze5RqbgN+5ElfHw5wYE97KhnyVb4IXvFhfEz+Vxea3ruzJLuUDED5KaiGU4selyk6q26W8XvxtoLOFwJ5zcLHeXOPv9aOyTCbPc6USftmF6pKGexw8VZfvMuUssAFeFVYMeaYVJbuKwQ7T8uXnB5JuB6+qh+tKdGTKidxqgTOfE6O7JTYlbbITLQcfueG12HnHqCQ7BHDCjJXUB9JlAxYAhE6T7/JvKzeF2N48ydBjVajNJAT7MeGdTEFQ518WHsfB9AukulyFicoFGRP5Of+ocS4jSWDNif17JUpegrMgXJ6H/ZB7WLrrRpU+/onGVda7oAZoVIXte2+h/djsNZMgoFknEAr3zK8OipzYoEw6jqRm1epP9RDfHcRXZyT9I+ZiFq9h6iQ5zXvc9PSI/S/WMBn+hkYVK7phsua5XeJ4ISPeikOPuyhef7Sejil8kaumTJG7Oia5WsKVcI=
notifications:
  slack: geoscience-australia:fQDjipn1NbDZMzOdaO5MgXOR
